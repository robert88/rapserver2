"use strict";
//将带有同步和异步接口的转换
module.exports = function(input,except) {
  if (typeof input == "object") {
    return;
  }
  var keys = Object.keys(input);
  var syncFunc = [];
  keys.forEach((key)=>{
    if(/Sync$/.test(key)){
      syncFunc.push(key);
    }
  })
  syncFunc.forEach((key)=>{
  
    var asyncFunc = key.replace(/Sync$/,"");
    //排除
    if(except&&~except.indexOf(asyncFunc)){
      return;
    }
    var inner = input[asyncFunc];

    if( inner ){
      input[asyncFunc] = function(...callback){

        let args = [];
        let argLen =arguments.length;
        if(argLen>0){
          args = Array.prototype.slice.call(arguments,0,argLen-1);
        }
        new Promise((resove)=>{
          inner.apply(input,args,function(err,ret){
            if(typeof callback=="function"){
              callback(err,ret);
            }
            resove(err,ret);
          })
        })
      }
    }
  })
}


var obj = {
  wake:
}